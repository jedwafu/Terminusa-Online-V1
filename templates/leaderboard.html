{% extends "base.html" %}

{% block title %}Leaderboard - Terminusa Online{% endblock %}

{% block content %}
<section class="leaderboard-header">
    <div class="container">
        <h1>Leaderboard</h1>
        <div class="leaderboard-controls">
            <div class="category-tabs">
                <button class="tab-btn active" data-category="overall">Overall</button>
                <button class="tab-btn" data-category="pvp">PvP</button>
                <button class="tab-btn" data-category="dungeons">Dungeons</button>
                <button class="tab-btn" data-category="guilds">Guilds</button>
            </div>
            <div class="time-filter">
                <select id="timeRange" class="filter-select">
                    <option value="all-time">All Time</option>
                    <option value="monthly">This Month</option>
                    <option value="weekly">This Week</option>
                    <option value="daily">Today</option>
                </select>
            </div>
        </div>
    </div>
</section>

<section class="leaderboard-content">
    <div class="container">
        <div class="top-players">
            <div class="top-player second">
                <div class="rank">2</div>
                <div class="player-avatar">
                    <img src="{{ url_for('static', filename='images/avatars/player2.png') }}" alt="Second Place">
                    <div class="level">Lvl 48</div>
                </div>
                <div class="player-info">
                    <h3>DragonSlayer</h3>
                    <div class="player-stats">
                        <span><i class="fas fa-trophy"></i> 15,420 pts</span>
                        <span><i class="fas fa-skull"></i> 245 kills</span>
                    </div>
                </div>
            </div>

            <div class="top-player first">
                <div class="rank">1</div>
                <div class="player-avatar">
                    <img src="{{ url_for('static', filename='images/avatars/player1.png') }}" alt="First Place">
                    <div class="level">Lvl 50</div>
                </div>
                <div class="player-info">
                    <h3>ShadowMaster</h3>
                    <div class="player-stats">
                        <span><i class="fas fa-trophy"></i> 18,750 pts</span>
                        <span><i class="fas fa-skull"></i> 312 kills</span>
                    </div>
                </div>
            </div>

            <div class="top-player third">
                <div class="rank">3</div>
                <div class="player-avatar">
                    <img src="{{ url_for('static', filename='images/avatars/player3.png') }}" alt="Third Place">
                    <div class="level">Lvl 45</div>
                </div>
                <div class="player-info">
                    <h3>MysticHunter</h3>
                    <div class="player-stats">
                        <span><i class="fas fa-trophy"></i> 14,890 pts</span>
                        <span><i class="fas fa-skull"></i> 198 kills</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="rankings-table">
            <table>
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Player</th>
                        <th>Level</th>
                        <th>Points</th>
                        <th>Kills</th>
                        <th>Win Rate</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in range(4, 11) %}
                    <tr>
                        <td>{{ i }}</td>
                        <td class="player-cell">
                            <img src="{{ url_for('static', filename='images/avatars/default.png') }}" alt="Player Avatar">
                            <span>Player{{ i }}</span>
                        </td>
                        <td>{{ 40 + (11-i) }}</td>
                        <td>{{ 14000 - (i*200) }}</td>
                        <td>{{ 180 - (i*10) }}</td>
                        <td>{{ 85 - (i*2) }}%</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="pagination">
            <button class="pagination-btn" disabled><i class="fas fa-chevron-left"></i></button>
            <span class="pagination-current">Page 1 of 5</span>
            <button class="pagination-btn"><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
.leaderboard-header {
    background-color: var(--primary-color);
    color: white;
    padding: 2rem 0;
}

.leaderboard-controls {
    margin-top: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.category-tabs {
    display: flex;
    gap: 0.5rem;
}

.tab-btn {
    background: none;
    border: none;
    color: white;
    padding: 0.5rem 1.5rem;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.tab-btn:hover {
    background-color: rgba(255,255,255,0.1);
}

.tab-btn.active {
    background-color: var(--secondary-color);
}

.filter-select {
    padding: 0.5rem;
    border: none;
    border-radius: 4px;
    font-size: 0.9rem;
    min-width: 150px;
}

.leaderboard-content {
    padding: 2rem 0;
    background-color: var(--light-bg);
    min-height: calc(100vh - 60px - 300px);
}

.top-players {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: 2rem;
    margin-bottom: 3rem;
    padding: 2rem 0;
}

.top-player {
    position: relative;
    background: white;
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.top-player:hover {
    transform: translateY(-5px);
}

.top-player.first {
    padding-top: 2rem;
    margin-bottom: 1rem;
}

.rank {
    position: absolute;
    top: -1rem;
    left: 50%;
    transform: translateX(-50%);
    width: 2rem;
    height: 2rem;
    background-color: var(--primary-color);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

.first .rank {
    background-color: #ffd700;
    color: var(--primary-color);
}

.second .rank {
    background-color: #c0c0c0;
}

.third .rank {
    background-color: #cd7f32;
}

.player-avatar {
    position: relative;
    width: 80px;
    height: 80px;
    margin: 0 auto 1rem;
}

.first .player-avatar {
    width: 100px;
    height: 100px;
}

.player-avatar img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
}

.level {
    position: absolute;
    bottom: -0.5rem;
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--secondary-color);
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 12px;
    font-size: 0.75rem;
}

.player-info h3 {
    color: var(--primary-color);
    margin-bottom: 0.5rem;
}

.player-stats {
    display: flex;
    justify-content: center;
    gap: 1rem;
    font-size: 0.875rem;
    color: #666;
}

.rankings-table {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    overflow: hidden;
    margin-bottom: 2rem;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid #eee;
}

th {
    background-color: var(--primary-color);
    color: white;
    font-weight: 500;
}

.player-cell {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.player-cell img {
    width: 32px;
    height: 32px;
    border-radius: 50%;
}

.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
}

.pagination-btn {
    background: none;
    border: none;
    color: var(--primary-color);
    cursor: pointer;
    padding: 0.5rem;
}

.pagination-btn:disabled {
    color: #ccc;
    cursor: not-allowed;
}

.pagination-current {
    color: #666;
}

@media (max-width: 768px) {
    .leaderboard-controls {
        flex-direction: column;
        align-items: stretch;
    }

    .category-tabs {
        overflow-x: auto;
        padding-bottom: 0.5rem;
    }

    .top-players {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
    }

    .top-player {
        width: 100%;
        max-width: 300px;
    }

    .rankings-table {
        overflow-x: auto;
    }

    table {
        min-width: 600px;
    }
}
</style>
{% endblock %}

{% block scripts %}
<script>
document.querySelectorAll('.tab-btn').forEach(button => {
    button.addEventListener('click', function() {
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
        // Add logic to load different leaderboard data
    });
});
</script>
{% endblock %}
