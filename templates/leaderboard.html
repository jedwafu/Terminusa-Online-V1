{% extends "base.html" %}

{% block head %}
<style>
.leaderboard-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
}

.leaderboard-section {
    margin-bottom: 4rem;
}

.leaderboard-title {
    text-align: center;
    color: var(--primary-color);
    font-size: 2.5rem;
    margin-bottom: 2rem;
}

.leaderboard-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: 10px;
    overflow: hidden;
}

.leaderboard-table th,
.leaderboard-table td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.leaderboard-table th {
    background: rgba(108, 49, 255, 0.1);
    color: var(--primary-color);
    font-weight: bold;
    text-transform: uppercase;
}

.leaderboard-table tr:hover {
    background: var(--hover-color);
}

.rank {
    font-weight: bold;
    color: var(--accent-color);
}

.rank-S {
    color: #FFD700;
}

.rank-A {
    color: #C0C0C0;
}

.rank-B {
    color: #CD7F32;
}

.stats {
    display: flex;
    gap: 1rem;
    color: var(--text-color);
}

.stat {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.stat-icon {
    color: var(--accent-color);
}

.guild-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.guild-name {
    font-weight: bold;
    color: var(--primary-color);
}

.guild-stats {
    display: flex;
    gap: 2rem;
}

.tabs {
    display: flex;
    justify-content: center;
    margin-bottom: 2rem;
    gap: 1rem;
}

.tab {
    padding: 0.8rem 2rem;
    background: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
}

.tab:hover,
.tab.active {
    background: var(--primary-color);
    color: white;
}
</style>
{% endblock %}

{% block content %}
<div class="leaderboard-container">
    <h1 class="leaderboard-title">Leaderboard</h1>
    
    <div class="tabs">
        <div class="tab active" onclick="showTab('hunters')">Hunter Rankings</div>
        <div class="tab" onclick="showTab('guilds')">Guild Rankings</div>
    </div>
    
    <div id="hunters-tab" class="leaderboard-section">
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Hunter</th>
                    <th>Level</th>
                    <th>Gates Cleared</th>
                    <th>Rating</th>
                </tr>
            </thead>
            <tbody>
                {% for player in hunters %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ player.user.username }}</td>
                    <td>{{ player.level }}</td>
                    <td>{{ player.gates_cleared }}</td>
                    <td class="rank rank-{{ player.rank }}">{{ player.rank }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <div id="guilds-tab" class="leaderboard-section" style="display: none;">
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Guild</th>
                    <th>Level</th>
                    <th>Members</th>
                    <th>Achievements</th>
                </tr>
            </thead>
            <tbody>
                {% for guild in guilds %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ guild.name }}</td>
                    <td>{{ guild.level }}</td>
                    <td>{{ guild.member_count }}</td>
                    <td>{{ guild.achievement_count }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script>
function showTab(tabName) {
    // Hide all tabs
    document.querySelectorAll('.leaderboard-section').forEach(tab => {
        tab.style.display = 'none';
    });
    
    // Show selected tab
    document.getElementById(`${tabName}-tab`).style.display = 'block';
    
    // Update tab buttons
    document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
    });
    document.querySelector(`.tab[onclick="showTab('${tabName}')"]`).classList.add('active');
}
</script>
{% endblock %}
