{% extends "base.html" %}

{% block head %}
<style>
.play-section {
    padding: 4rem 0;
}

.play-content {
    text-align: center;
}

.play-content h1 {
    font-size: 3rem;
    margin-bottom: 3rem;
}

.client-section {
    max-width: 1200px;
    margin: 0 auto;
}

.client-info {
    margin-bottom: 4rem;
}

.terminal-preview {
    max-width: 600px;
    margin: 2rem auto;
    background: #1a1a1a;
    border-radius: 8px;
    overflow: hidden;
}

.terminal-header {
    background: #2d2d2d;
    padding: 0.5rem;
    display: flex;
    gap: 0.5rem;
}

.terminal-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #ff5f56;
}

.terminal-dot:nth-child(2) {
    background: #ffbd2e;
}

.terminal-dot:nth-child(3) {
    background: #27c93f;
}

.terminal-body {
    padding: 1rem;
}

.terminal-text {
    color: #fff;
    font-family: monospace;
    white-space: pre;
    margin: 0;
}

.download-section {
    margin: 4rem 0;
}

.download-options {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin: 2rem 0;
}

.download-card {
    background: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: 10px;
    padding: 2rem;
    text-align: center;
}

.download-card img {
    width: 64px;
    height: 64px;
    margin-bottom: 1rem;
}

.download-card h3 {
    margin-bottom: 1rem;
}

.version {
    display: block;
    margin-top: 0.5rem;
    color: var(--text-muted);
}

.installation-guide {
    max-width: 800px;
    margin: 4rem auto;
}

.guide-tabs {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;
}

.tab-btn {
    padding: 0.8rem 2rem;
    background: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    color: var(--text-color);
    cursor: pointer;
}

.tab-btn.active {
    background: var(--primary-color);
    color: white;
}

.guide-tab {
    display: none;
    text-align: left;
}

.guide-tab.active {
    display: block;
}

.guide-tab ol {
    padding-left: 1.5rem;
}

.guide-tab li {
    margin-bottom: 1rem;
}

code {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    font-family: monospace;
}
</style>
{% endblock %}

{% block content %}
<section class="play-section">
    <div class="container">
        <div class="play-content">
            <h1 class="glow-text">Enter the Gate</h1>
            
            <div class="client-section">
                <div class="client-info">
                    <h2>Command Line Interface</h2>
                    <p>Experience the true power of a hunter through our command-line interface.</p>
                    <div class="terminal-preview">
                        <div class="terminal-header">
                            <span class="terminal-dot"></span>
                            <span class="terminal-dot"></span>
                            <span class="terminal-dot"></span>
                        </div>
                        <div class="terminal-body">
                            <pre class="terminal-text">
╔════════════════════════════════════════════════════════╗
║                   Terminusa Online                     ║
║                     The Genesis                        ║
║                                                        ║
║  Type 'help' for commands, 'quit' or Ctrl+D to exit    ║
╚════════════════════════════════════════════════════════╝

[bold blue]terminusa>[/bold blue] login
Username: _</pre>
                        </div>
                    </div>
                </div>

                <div class="download-section">
                    <h2>Download Client</h2>
                    <div class="download-options">
                        <div class="download-card">
                            <img src="{{ url_for('static', filename='images/windows-icon.png') }}" alt="Windows">
                            <h3>Windows</h3>
                            <a href="/static/downloads/terminusa-client-windows.zip" class="btn btn-primary download-btn">Download for Windows</a>
                            <span class="version">v1.0.0</span>
                        </div>
                        <div class="download-card">
                            <img src="{{ url_for('static', filename='images/linux-icon.png') }}" alt="Linux">
                            <h3>Linux</h3>
                            <a href="/static/downloads/terminusa-client-linux.tar.gz" class="btn btn-primary download-btn">Download for Linux</a>
                            <span class="version">v1.0.0</span>
                        </div>
                        <div class="download-card">
                            <img src="{{ url_for('static', filename='images/mac-icon.png') }}" alt="macOS">
                            <h3>macOS</h3>
                            <a href="/static/downloads/terminusa-client-mac.dmg" class="btn btn-primary download-btn">Download for macOS</a>
                            <span class="version">v1.0.0</span>
                        </div>
                    </div>
                </div>

                <div class="installation-guide">
                    <h2>Installation Guide</h2>
                    <div class="guide-tabs">
                        <button class="tab-btn active" data-os="windows">Windows</button>
                        <button class="tab-btn" data-os="linux">Linux</button>
                        <button class="tab-btn" data-os="mac">macOS</button>
                    </div>
                    <div class="guide-content">
                        <div class="guide-tab active" data-os="windows">
                            <ol>
                                <li>Download the Windows client</li>
                                <li>Extract the ZIP file</li>
                                <li>Run <code>terminusa.exe</code></li>
                                <li>Login with your account</li>
                            </ol>
                        </div>
                        <div class="guide-tab" data-os="linux">
                            <ol>
                                <li>Download the Linux client</li>
                                <li>Extract the archive: <code>tar -xzf terminusa-client-linux.tar.gz</code></li>
                                <li>Make executable: <code>chmod +x terminusa</code></li>
                                <li>Run: <code>./terminusa</code></li>
                            </ol>
                        </div>
                        <div class="guide-tab" data-os="mac">
                            <ol>
                                <li>Download the macOS client</li>
                                <li>Open the DMG file</li>
                                <li>Drag Terminusa to Applications</li>
                                <li>Run Terminusa from Applications</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Tab switching
    const tabBtns = document.querySelectorAll('.tab-btn');
    const guideTabs = document.querySelectorAll('.guide-tab');

    tabBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const os = btn.dataset.os;
            
            // Update buttons
            tabBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            // Update tabs
            guideTabs.forEach(tab => {
                if (tab.dataset.os === os) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
        });
    });

    // Terminal animation
    const terminalText = document.querySelector('.terminal-text');
    let currentText = terminalText.innerText;
    terminalText.innerText = '';
    
    let i = 0;
    const typeWriter = () => {
        if (i < currentText.length) {
            terminalText.innerText += currentText.charAt(i);
            i++;
            setTimeout(typeWriter, 50);
        }
    };
    
    typeWriter();

    // Download buttons authentication check
    const downloadBtns = document.querySelectorAll('.download-btn');
    downloadBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
            if (!localStorage.getItem('token')) {
                e.preventDefault();
                showToast('Please log in to download the client.', 'error');
                setTimeout(() => {
                    window.location.href = '{{ url_for("login_page") }}';
                }, 2000);
            }
        });
    });
});
</script>
{% endblock %}
